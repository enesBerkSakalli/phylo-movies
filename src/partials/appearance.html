<!-- appearance.html -->
<div class="appearance-root">

  <!-- Tree Structure Controls -->
  <div>
    <h3 class="md-typescale-title-medium section-title">
      <md-icon class="icon-small">account_tree</md-icon>
      Tree Structure
    </h3>

    <div class="section-body">
      <!-- Branch Length Options -->
      <div>
        <label class="control-label">
          <span id="branch-length-options-label">Branch Length Options</span>
        </label>
        <md-outlined-select id="branch-length-options" class="full-width" value="use" aria-labelledby="branch-length-options-label">
          <md-select-option value="use">
            <div slot="headline">Use Branch Lengths</div>
          </md-select-option>
          <md-select-option value="ignore">
            <div slot="headline">Ignore Branch Lengths</div>
          </md-select-option>
          <md-select-option value="log">
            <div slot="headline">Log Transform</div>
          </md-select-option>
          <md-select-option value="sqrt">
            <div slot="headline">Square Root</div>
          </md-select-option>
          <md-select-option value="power2">
            <div slot="headline">Power (x²)</div>
          </md-select-option>
          <md-select-option value="linear-scale">
            <div slot="headline">Linear Scale (2x)</div>
          </md-select-option>
        </md-outlined-select>
      </div>
    </div>
  </div>

  <!-- Visual Style Controls -->
  <div>
    <h3 class="md-typescale-title-medium section-title">
      <md-icon class="icon-small">tune</md-icon>
      Visual Style
    </h3>

    <div class="section-body">
      <!-- Font Size Control -->
      <div>
        <label class="control-label" title="Adjust label text size" aria-label="Label size control">
          <md-icon class="icon-small">text_fields</md-icon>
          <span id="font-size-label">Label Size</span>: <span id="font-size-value">1.8em</span>
        </label>
        <md-slider
          id="font-size"
          min="0.5"
          max="10"
          step="0.1"
          value="1.8"
          aria-labelledby="font-size-label"
          labeled>
        </md-slider>
      </div>

      <!-- Stroke Width Control -->
      <div>
        <label class="control-label" title="Adjust branch line width" aria-label="Branch width control">
          <md-icon class="icon-small">brush</md-icon>
          <span id="stroke-width-label">Branch Width</span>: <span id="stroke-width-value">3</span>
        </label>
        <md-slider
          id="stroke-width"
          min="1"
          max="30"
          step="0.2"
          value="3"
          aria-labelledby="stroke-width-label"
          labeled>
        </md-slider>
      </div>
    </div>
  </div>

  <!-- Coloring Features -->
  <div>
    <h3 class="md-typescale-title-medium section-title">
      <md-icon class="icon-small">palette</md-icon>
      Coloring & Styling
    </h3>

    <div class="section-body">
      <!-- Taxa Coloring Button -->
      <md-filled-button id="taxa-coloring-button" has-icon class="full-width">
        <md-icon slot="icon">palette</md-icon>
        Taxa Coloring
      </md-filled-button>

      <!-- Monophyletic Coloring Toggle -->
      <label class="row-16" style="cursor: pointer;">
        <md-switch id="monophyletic-coloring" selected aria-labelledby="monophyletic-coloring-label" aria-describedby="monophyletic-coloring-desc"></md-switch>
        <div style="flex: 1;">
          <div id="monophyletic-coloring-label" style="font-weight: 500; color: var(--md-sys-color-on-surface);">
            <md-icon class="icon-small">color_lens</md-icon>
            Monophyletic Group Coloring
          </div>
          <div id="monophyletic-coloring-desc" class="md-typescale-body-medium muted-text">Enable coloring for monophyletic groups in the tree</div>
        </div>
      </label>

      <!-- Red Coloring Mode Selector -->
      <div>
        <label class="control-label">
          <md-icon class="icon-small">swap_horiz</md-icon>
          <span id="change-coloring-mode-label">Change Coloring Mode</span>
        </label>
        <md-outlined-select id="red-coloring-mode" class="full-width" value="highlight_solutions" aria-labelledby="change-coloring-mode-label" aria-describedby="change-coloring-mode-help">
          <md-select-option value="highlight_solutions">
            <div slot="headline">Highlight Subtrees</div>
          </md-select-option>
          <md-select-option value="subtree_tracking">
            <div slot="headline">Subtree Tracking</div>
          </md-select-option>
        </md-outlined-select>
        <div id="change-coloring-mode-help" class="md-typescale-body-small muted-text" style="margin-top: 4px;">
          Highlight Subtrees: Shows accumulated changes<br>
          Subtree Tracking: Shows only moving elements
        </div>
      </div>

      <!-- Highlighting Colors Subsection -->
      <div>
        <h4 class="md-typescale-title-small subtitle">
          <md-icon class="icon-small" style="font-size: 16px;">highlight</md-icon>
          Highlighting Colors
        </h4>

        <div class="section-body section-body--compact">
          <!-- Active Change Edges with toggle -->
          <div class="row-12">
            <md-switch id="active-change-edges-toggle" selected aria-labelledby="active-change-edges-label"></md-switch>
            <md-icon class="icon-small">timeline</md-icon>
            <span id="active-change-edges-label" style="flex: 1;">Active Change Edges</span>
            <input type="color" id="active-change-edges-color" value="#2196f3" class="color-swatch" aria-labelledby="active-change-edges-label">
          </div>

          <!-- Marked Components with toggle -->
          <div class="row-12">
            <md-switch id="marked-components-toggle" selected aria-labelledby="marked-components-label"></md-switch>
            <md-icon class="icon-small">flag</md-icon>
            <span id="marked-components-label" style="flex: 1;">Subtrees</span>
            <input type="color" id="marked-color" value="#ff5722" class="color-swatch" aria-labelledby="marked-components-label">
          </div>

          <!-- Dimmed Elements (no toggle needed - controlled by dim-non-descendants-toggle) -->
          <label class="row-12">
            <md-icon class="icon-small">opacity</md-icon>
            <span id="dimmed-elements-label" style="flex: 1;">Dimmed Elements</span>
            <input type="color" id="dimmed-color" value="#cccccc" class="color-swatch" aria-labelledby="dimmed-elements-label">
          </label>
        </div>
      </div>
    </div>
  </div>

  <!-- Focus & Highlighting Controls -->
  <div>
    <h3 class="md-typescale-title-medium section-title">
      <md-icon class="icon-small">center_focus_strong</md-icon>
      Focus & Highlighting
    </h3>

    <div class="section-body">
      <!-- Dim Non-Descendants Toggle -->
      <label class="row-16" style="cursor: pointer;">
        <md-switch id="dim-non-descendants-toggle" aria-labelledby="dim-non-descendants-label" aria-describedby="dim-non-descendants-desc"></md-switch>
        <div style="flex: 1;">
          <div id="dim-non-descendants-label" style="font-weight: 500; color: var(--md-sys-color-on-surface);">
            <md-icon class="icon-small">visibility</md-icon>
            Focus on Active Subtree
          </div>
          <div id="dim-non-descendants-desc" class="md-typescale-body-medium muted-text">Dim all non-descendants of the active edge</div>
        </div>
      </label>
    </div>
  </div>


  <!-- Advanced Features -->
  <div>
    <h3 class="md-typescale-title-medium section-title">
      <md-icon class="icon-small">science</md-icon>
      Advanced Features
    </h3>

    <div class="section-body">
      <!-- Camera Mode Button -->
      <md-outlined-button id="camera-mode-button" has-icon class="full-width">
        <md-icon slot="icon">3d_rotation</md-icon>
        <span id="camera-mode-text">2D View</span>
      </md-outlined-button>
      

      <!-- Motion Trails (Flow Trails) -->
      <label class="row-16" style="cursor: pointer; margin-top: 12px;">
        <md-switch id="trails-toggle" aria-labelledby="trails-label" aria-describedby="trails-desc"></md-switch>
        <div style="flex: 1;">
          <div id="trails-label" style="font-weight: 500; color: var(--md-sys-color-on-surface);">
            <md-icon class="icon-small">timeline</md-icon>
            Motion Trails
          </div>
          <div id="trails-desc" class="md-typescale-body-medium muted-text">Show faint streaming trails for moving elements</div>
        </div>
      </label>

      <div class="section-body section-body--compact" style="gap: 8px;">
        <div>
          <label class="control-label" title="Number of historical positions per element">
            <md-icon class="icon-small">route</md-icon>
            <span id="trail-length-label">Trail Length</span>: <span id="trail-length-value">12</span>
          </label>
          <md-slider id="trail-length" min="2" max="40" step="1" value="12" aria-labelledby="trail-length-label" labeled disabled></md-slider>
        </div>

        <div>
          <label class="control-label" title="Trail opacity (0–1)">
            <md-icon class="icon-small">opacity</md-icon>
            <span id="trail-opacity-label">Trail Opacity</span>: <span id="trail-opacity-value">0.5</span>
          </label>
          <md-slider id="trail-opacity" min="0" max="1" step="0.05" value="0.5" aria-labelledby="trail-opacity-label" labeled disabled></md-slider>
        </div>

        <div>
          <label class="control-label" title="Trail thickness relative to branch width">
            <md-icon class="icon-small">line_weight</md-icon>
            <span id="trail-thickness-label">Trail Thickness</span>: <span id="trail-thickness-value">0.5</span>
          </label>
          <md-slider id="trail-thickness" min="0.1" max="5" step="0.1" value="0.5" aria-labelledby="trail-thickness-label" labeled disabled></md-slider>
        </div>
      </div>

      
      
    </div>
  </div>

</div>
