<!-- appearance.html -->
<div style="display: flex; flex-direction: column; gap: 16px;">

  <!-- Tree Structure Controls -->
  <div>
    <h3 class="md-typescale-title-medium" style="margin: 0 0 16px 0; color: var(--md-sys-color-on-surface);">
      <md-icon style="font-size: 18px; vertical-align: middle;">account_tree</md-icon>
      Tree Structure
    </h3>

    <div style="display: flex; flex-direction: column; gap: 16px; padding-left: 24px;">
      <!-- Branch Length Options -->
      <div>
        <label style="display: block; margin-bottom: 8px; color: var(--md-sys-color-on-surface); font-weight: 500;">
          Branch Length Options
        </label>
        <md-outlined-select id="branch-length-options" style="width: 100%;" value="use">
          <md-select-option value="use" selected>
            <div slot="headline">Use Branch Lengths</div>
          </md-select-option>
          <md-select-option value="ignore">
            <div slot="headline">Ignore Branch Lengths</div>
          </md-select-option>
          <md-select-option value="log">
            <div slot="headline">Log Transform</div>
          </md-select-option>
          <md-select-option value="sqrt">
            <div slot="headline">Square Root</div>
          </md-select-option>
          <md-select-option value="power2">
            <div slot="headline">Power (xÂ²)</div>
          </md-select-option>
          <md-select-option value="linear-scale">
            <div slot="headline">Linear Scale (2x)</div>
          </md-select-option>
        </md-outlined-select>
      </div>
    </div>
  </div>

  <!-- Visual Style Controls -->
  <div>
    <h3 class="md-typescale-title-medium" style="margin: 0 0 16px 0; color: var(--md-sys-color-on-surface);">
      <md-icon style="font-size: 18px; vertical-align: middle;">tune</md-icon>
      Visual Style
    </h3>

    <div style="display: flex; flex-direction: column; gap: 16px; padding-left: 24px;">
      <!-- Font Size Control -->
      <div>
        <label style="display: block; margin-bottom: 8px; color: var(--md-sys-color-on-surface); font-weight: 500;">
          <md-icon style="font-size: 18px; vertical-align: middle;">text_fields</md-icon>
          Font Size: <span id="font-size-value">1.8em</span>
        </label>
        <md-slider
          id="font-size"
          min="0.5"
          max="10"
          step="0.1"
          value="1.8"
          labeled>
        </md-slider>
      </div>

      <!-- Stroke Width Control -->
      <div>
        <label style="display: block; margin-bottom: 8px; color: var(--md-sys-color-on-surface); font-weight: 500;">
          <md-icon style="font-size: 18px; vertical-align: middle;">brush</md-icon>
          Stroke Width: <span id="stroke-width-value">3</span>
        </label>
        <md-slider
          id="stroke-width"
          min="1"
          max="30"
          step="0.2"
          value="3"
          labeled>
        </md-slider>
      </div>
    </div>
  </div>

  <!-- Coloring Features -->
  <div>
    <h3 class="md-typescale-title-medium" style="margin: 0 0 16px 0; color: var(--md-sys-color-on-surface);">
      <md-icon style="font-size: 18px; vertical-align: middle;">palette</md-icon>
      Coloring & Styling
    </h3>

    <div style="display: flex; flex-direction: column; gap: 16px; padding-left: 24px;">
      <!-- Taxa Coloring Button -->
      <md-filled-button id="taxa-coloring-button" has-icon style="width: 100%;">
        <md-icon slot="icon">palette</md-icon>
        Taxa Coloring
      </md-filled-button>

      <!-- Monophyletic Coloring Toggle -->
      <label style="display: flex; align-items: center; gap: 16px; cursor: pointer;">
        <md-switch id="monophyletic-coloring" selected></md-switch>
        <div style="flex: 1;">
          <div style="font-weight: 500; color: var(--md-sys-color-on-surface);">
            <md-icon style="font-size: 18px; vertical-align: middle;">color_lens</md-icon>
            Monophyletic Group Coloring
          </div>
          <div class="md-typescale-body-medium" style="color: var(--md-sys-color-on-surface-variant);">Enable coloring for monophyletic groups in the tree</div>
        </div>
      </label>

      <!-- Red Coloring Mode Selector -->
      <div style="margin-bottom: 16px;">
        <label style="display: block; margin-bottom: 8px; color: var(--md-sys-color-on-surface); font-weight: 500;">
          <md-icon style="font-size: 18px; vertical-align: middle;">swap_horiz</md-icon>
          Red Coloring Mode
        </label>
        <md-outlined-select id="red-coloring-mode" style="width: 100%;" value="highlight_solutions">
          <md-select-option value="highlight_solutions" selected>
            <div slot="headline">Highlight Solutions</div>
          </md-select-option>
          <md-select-option value="subtree_tracking">
            <div slot="headline">Subtree Tracking</div>
          </md-select-option>
        </md-outlined-select>
        <div class="md-typescale-body-small" style="margin-top: 4px; color: var(--md-sys-color-on-surface-variant);">
          Highlight Solutions: Shows accumulated changes<br>
          Subtree Tracking: Shows only moving elements
        </div>
      </div>

      <!-- Highlighting Colors Subsection -->
      <div>
        <h4 class="md-typescale-title-small" style="margin: 16px 0 12px 0; color: var(--md-sys-color-on-surface-variant);">
          <md-icon style="font-size: 16px; vertical-align: middle;">highlight</md-icon>
          Highlighting Colors
        </h4>

        <div style="display: flex; flex-direction: column; gap: 12px; padding-left: 16px;">
          <label style="display: flex; align-items: center; gap: 12px;">
            <md-icon style="font-size: 18px;">timeline</md-icon>
            <span style="flex: 1; color: var(--md-sys-color-on-surface);">Active Change Edges</span>
            <input type="color" id="active-change-edges-color" value="#2196f3" style="width: 48px; height: 32px; border: none; border-radius: 4px; cursor: pointer;">
          </label>

          <label style="display: flex; align-items: center; gap: 12px;">
            <md-icon style="font-size: 18px;">flag</md-icon>
            <span style="flex: 1; color: var(--md-sys-color-on-surface);">Marked Components</span>
            <input type="color" id="marked-color" value="#ff5722" style="width: 48px; height: 32px; border: none; border-radius: 4px; cursor: pointer;">
          </label>

          <label style="display: flex; align-items: center; gap: 12px;">
            <md-icon style="font-size: 18px;">opacity</md-icon>
            <span style="flex: 1; color: var(--md-sys-color-on-surface);">Dimmed Elements</span>
            <input type="color" id="dimmed-color" value="#cccccc" style="width: 48px; height: 32px; border: none; border-radius: 4px; cursor: pointer;">
          </label>
        </div>
      </div>
    </div>
  </div>

  <!-- Focus & Highlighting Controls -->
  <div>
    <h3 class="md-typescale-title-medium" style="margin: 0 0 16px 0; color: var(--md-sys-color-on-surface);">
      <md-icon style="font-size: 18px; vertical-align: middle;">center_focus_strong</md-icon>
      Focus & Highlighting
    </h3>

    <div style="display: flex; flex-direction: column; gap: 16px; padding-left: 24px;">
      <!-- Dim Non-Descendants Toggle -->
      <label style="display: flex; align-items: center; gap: 16px; cursor: pointer;">
        <md-switch id="dim-non-descendants-toggle"></md-switch>
        <div style="flex: 1;">
          <div style="font-weight: 500; color: var(--md-sys-color-on-surface);">
            <md-icon style="font-size: 18px; vertical-align: middle;">visibility</md-icon>
            Focus on Active Subtree
          </div>
          <div class="md-typescale-body-medium" style="color: var(--md-sys-color-on-surface-variant);">Dim all non-descendants of the active edge</div>
        </div>
      </label>
    </div>
  </div>


  <!-- Advanced Features -->
  <div>
    <h3 class="md-typescale-title-medium" style="margin: 0 0 16px 0; color: var(--md-sys-color-on-surface);">
      <md-icon style="font-size: 18px; vertical-align: middle;">science</md-icon>
      Advanced Features
    </h3>

    <div style="display: flex; flex-direction: column; gap: 16px; padding-left: 24px;">
      <!-- Camera Mode Button -->
      <md-outlined-button id="camera-mode-button" has-icon style="width: 100%;">
        <md-icon slot="icon">3d_rotation</md-icon>
        <span id="camera-mode-text">2D View</span>
      </md-outlined-button>

      <!-- WebGL Rendering Toggle -->
      <label style="display: flex; align-items: center; gap: 16px; cursor: pointer;">
        <md-switch id="webgl-rendering" selected></md-switch>
        <div style="flex: 1;">
          <div style="font-weight: 500; color: var(--md-sys-color-on-surface);">
            <md-icon style="font-size: 18px; vertical-align: middle;">view_in_ar</md-icon>
            WebGL 3D Rendering
          </div>
          <div class="md-typescale-body-medium" style="color: var(--md-sys-color-on-surface-variant);">Enable experimental 3D rendering mode</div>
        </div>
      </label>
    </div>
  </div>

</div>
