<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Phylo-Movies</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Preconnect to Google Fonts for better performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Material Icons -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap"
    >

    <!-- Google Fonts - Roboto -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
    >

    <!-- Material Design CSS -->
    <link rel="stylesheet" type="text/css" href="/src/css/style.css">
    <link rel="stylesheet" type="text/css" href="/src/css/material-design.css">
    <link rel="stylesheet" type="text/css" href="/src/css/material-design-card.css">
  </head>

  <body>
    <!-- Top App Bar -->
    <header class="md-top-app-bar">
      <div class="md-top-app-bar-container">
        <span class="material-icons md-top-app-bar-icon">biotech</span>
        <h1 class="md-top-app-bar-title">Phylo-Movies</h1>
      </div>
    </header>

    <!-- Main Content with proper layout -->
    <main class="md-layout-main">
      <div class="md-layout-container">

        <!-- Hero Section -->
        <section class="md-hero-section">
          <div class="md-hero-content">
            <h1 class="md-hero-title">Visualize Phylogenetic Evolution</h1>
            <p class="md-hero-subtitle">Upload your tree files to create interactive phylogenetic movies with advanced interpolation and visualization.</p>
          </div>
        </section>

        <!-- Upload Form Card -->
        <section class="md-form-section">
          <div class="md-card md-card-filled elev-2">

            <!-- Card Header -->
            <div class="md-card-header">
              <div class="md-card-header-text">
                <h2 class="md-card-title">Upload Data Files</h2>
                <p class="md-card-subtitle">Select your phylogenetic tree files and configure visualization parameters</p>
              </div>
              <span class="material-icons md-card-header-icon">upload_file</span>
            </div>

            <!-- Form Content -->
            <div class="md-card-content">
              <div id="form-alert" class="md-alert md-alert-error hidden" role="alert">
                <span class="material-icons md-alert-icon">error</span>
                <div class="md-alert-content">
                  <span class="md-alert-title">Upload Error</span>
                  <span class="md-alert-message">Please check your files and try again.</span>
                </div>
              </div>

              <form id="phylo-form" enctype="multipart/form-data" class="md-form">

                <!-- Required Files Section -->
                <div class="md-form-section-group">
                  <h3 class="md-form-section-title">
                    <span class="material-icons">description</span>
                    Required Files
                  </h3>

                  <!-- Tree File Input -->
                  <div class="md-text-field-container">
                    <div class="md-text-field md-text-field-filled">
                      <label for="trees" class="md-text-field-label">Tree File *</label>
                      <input
                        id="trees"
                        type="file"
                        class="md-text-field-input"
                        required
                        accept=".tree,.nwk,.newick,.tre,.ph"
                        placeholder=" "
                      >
                      <div class="md-text-field-supporting-text">
                        <span class="material-icons md-text-field-icon">info</span>
                        Newick format (.tree, .nwk, .newick)
                      </div>
                    </div>
                  </div>

                  <!-- Order File Input -->
                  <div class="md-text-field-container">
                    <div class="md-text-field md-text-field-filled">
                      <label for="order" class="md-text-field-label">Order File</label>
                      <input
                        type="file"
                        class="md-text-field-input"
                        id="order"
                        accept=".txt,.order"
                        placeholder=" "
                      >
                      <div class="md-text-field-supporting-text">
                        <span class="material-icons md-text-field-icon">info</span>
                        Optional: Tree ordering specification
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Optional Files Section -->
                <div class="md-form-section-group">
                  <h3 class="md-form-section-title">
                    <span class="material-icons">add_circle_outline</span>
                    Optional Files
                  </h3>

                  <!-- MSA File Input -->
                  <div class="md-text-field-container">
                    <div class="md-text-field md-text-field-filled">
                      <label for="msa" class="md-text-field-label">Multiple Sequence Alignment</label>
                      <input
                        type="file"
                        class="md-text-field-input"
                        id="msa"
                        accept=".fas,.fasta,.aln,.clustal,.msa,.phylip,.phy"
                        placeholder=" "
                      >
                      <div class="md-text-field-supporting-text">
                        <span class="material-icons md-text-field-icon">info</span>
                        FASTA, CLUSTAL, or PHYLIP format
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Parameters Section -->
                <div class="md-form-section-group">
                  <h3 class="md-form-section-title">
                    <span class="material-icons">tune</span>
                    Visualization Parameters
                  </h3>

                  <!-- Number Inputs Row -->
                  <div class="md-form-row">
                    <div class="md-text-field-container">
                      <div class="md-text-field md-text-field-outlined">
                        <input
                          type="number"
                          class="md-text-field-input"
                          id="windowSize"
                          name="windowSize"
                          value="1"
                          min="1"
                          placeholder=" "
                          required
                        >
                        <label for="windowSize" class="md-text-field-label">Window Size</label>
                        <div class="md-text-field-outline">
                          <div class="md-text-field-outline-start"></div>
                          <div class="md-text-field-outline-notch">
                            <div class="md-text-field-outline-panel-inactive"></div>
                            <div class="md-text-field-outline-panel-active"></div>
                          </div>
                          <div class="md-text-field-outline-end"></div>
                        </div>
                      </div>
                    </div>

                    <div class="md-text-field-container">
                      <div class="md-text-field md-text-field-outlined">
                        <input
                          type="number"
                          class="md-text-field-input"
                          id="window-step-size"
                          name="windowStepSize"
                          value="1"
                          min="1"
                          placeholder=" "
                          required
                        >
                        <label for="window-step-size" class="md-text-field-label">Step Size</label>
                        <div class="md-text-field-outline">
                          <div class="md-text-field-outline-start"></div>
                          <div class="md-text-field-outline-notch">
                            <div class="md-text-field-outline-panel-inactive"></div>
                            <div class="md-text-field-outline-panel-active"></div>
                          </div>
                          <div class="md-text-field-outline-end"></div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Options Section -->
                  <div class="md-form-options">
                    <div class="md-switch-container">
                      <div class="md-switch">
                        <input
                          class="md-switch-input"
                          type="checkbox"
                          id="midpointRooting"
                          name="midpointRooting"
                        >
                        <div class="md-switch-track">
                          <div class="md-switch-handle">
                            <div class="md-switch-ripple"></div>
                          </div>
                        </div>
                      </div>
                      <label class="md-switch-label" for="midpointRooting">
                        <span class="md-switch-label-text">Enable Midpoint Rooting</span>
                        <span class="md-switch-supporting-text">Automatically root trees at their midpoint</span>
                      </label>
                    </div>

                    <div class="md-switch-container">
                      <div class="md-switch">
                        <input
                          class="md-switch-input"
                          type="checkbox"
                          id="deactivateEmbedding"
                          name="deactivateEmbedding"
                        >
                        <div class="md-switch-track">
                          <div class="md-switch-handle">
                            <div class="md-switch-ripple"></div>
                          </div>
                        </div>
                      </div>
                      <label class="md-switch-label" for="deactivateEmbedding">
                        <span class="md-switch-label-text">Use Geometric Patterns</span>
                        <span class="md-switch-supporting-text">Disable embedding for geometric visualization</span>
                      </label>
                    </div>
                  </div>
                </div>

                <!-- Action Buttons -->
                <div class="md-card-actions">
                  <button type="submit" class="md-button elevated">
                    <span class="material-icons">play_arrow</span>
                    Create Visualization
                  </button>
                  <button type="reset" class="md-button secondary">
                    <span class="material-icons">refresh</span>
                    Reset Form
                  </button>
                </div>
              </form>
            </div>
          </div>
        </section>
      </div>
    </main>

    <script type="module" src="/src/js/index.js"></script>
    <script src="/src/js/material-design-fixes.js"></script>
  </body>
</html>
